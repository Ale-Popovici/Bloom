<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BLOOM Assistant</title>
    <link rel="stylesheet" href="content.css" />
  </head>
  <body>
    <div class="bloom-panel-header">
      <div class="bloom-logo-container">
        <span class="bloom-logo-text">BLOOM</span>
        <span class="bloom-logo-subtitle">Middlesex University</span>
      </div>
      <button
        id="bloom-close-panel"
        class="bloom-close-btn"
        title="Close Panel (Ctrl+Shift+B)"
      >
        ×
      </button>
    </div>

    <div class="bloom-module-selector">
      <label for="bloom-module-select" class="bloom-module-label"
        >Module:</label
      >
      <select id="bloom-module-select" class="bloom-module-dropdown">
        <option value="">All Documents</option>
        <!-- Module options will be added dynamically -->
      </select>

      <!-- Add clear conversation button -->
      <button
        id="bloom-clear-chat-btn"
        class="bloom-clear-btn"
        title="Clear Conversation"
      >
        <svg
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M3 6H5H21"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
        Clear Chat
      </button>
    </div>

    <div class="bloom-panel-content">
      <div id="bloom-chat-messages" class="bloom-messages-container">
        <div class="bloom-message bloom-bot-message">
          Hello! I'm BLOOM, your document assistant for Middlesex University.
          Upload course materials, and I'll help you find information quickly.
        </div>
      </div>

      <div class="bloom-upload-area">
        <div id="bloom-doc-list" class="bloom-doc-list"></div>
        <button id="bloom-upload-btn" class="bloom-btn bloom-upload-btn">
          <span class="bloom-btn-icon"></span> Upload Documents
        </button>
      </div>

      <div class="bloom-input-area">
        <input
          type="text"
          id="bloom-user-input"
          class="bloom-input"
          placeholder="Ask about your documents..."
        />
        <button id="bloom-send-btn" class="bloom-btn bloom-send-btn">
          <span class="bloom-btn-icon">↑</span>
        </button>
      </div>
    </div>
    <!-- Custom Confirmation Dialog -->
    <div id="bloom-confirm-dialog" class="bloom-modal bloom-confirm-modal">
      <div class="bloom-confirm-content">
        <div class="bloom-confirm-header">
          <h3>BLOOM - Middlesex University</h3>
        </div>
        <div class="bloom-confirm-body">
          <p id="bloom-confirm-message">
            Are you sure you want to clear the conversation?
          </p>
        </div>
        <div class="bloom-confirm-footer">
          <button
            id="bloom-confirm-cancel"
            class="bloom-btn bloom-secondary-btn"
          >
            Cancel
          </button>
          <button id="bloom-confirm-ok" class="bloom-btn">OK</button>
        </div>
      </div>
    </div>

    <script src="content-panel.js"></script>
  </body>
</html>
